<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>Voter List</title>

<style>
body{
  font-family: Arial, sans-serif;
  margin:0;
  background:#f2f2f2;
}

header{
  background:#1976d2;
  color:#fff;
  padding:12px;
  text-align:center;
  font-size:20px;
}

#search{
  width:95%;
  margin:10px auto;
  padding:10px;
  font-size:16px;
  display:block;
  border-radius:6px;
  border:1px solid #ccc;
}

#list{padding:10px;}

.card{
  background:#fff;
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  box-shadow:0 2px 5px rgba(0,0,0,.15);
  cursor:pointer;
}

#popup{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
}

#popupContent{
  background:#fff;
  width:90%;
  max-width:380px;
  padding:15px;
  border-radius:10px;
}

.clock{
  font-size:36px;
  text-align:center;
}

.btn{
  width:100%;
  margin-top:8px;
  padding:10px;
  font-size:15px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.print{background:#4caf50;color:#fff;}
.whatsapp{background:#25d366;color:#fff;}
.close{background:#f44336;color:#fff;}

@media print{
  header,#search,#list,.btn{display:none;}
  #popup{display:block;position:static;background:none;}
  #popupContent{
    box-shadow:none;
    width:100%;
    max-width:100%;
    page-break-after:avoid;
  }
}
</style>
</head>

<body>

<header>‡§Æ‡§§‡§¶‡§æ‡§∞ ‡§Ø‡§æ‡§¶‡•Ä</header>

<input id="search" placeholder="‡§®‡§æ‡§µ / EPIC / ‡§ò‡§∞ ‡§®‡§Ç ‡§∂‡•ã‡§ß‡§æ">

<div id="list"></div>

<div id="popup">
  <div id="popupContent">
    <div class="clock">‚è∞</div>
    <div id="printArea"></div>

    <button class="btn print" onclick="doPrint()">üñ® Print</button>
    <button class="btn whatsapp" onclick="sendWhatsApp()">üì≤ WhatsApp</button>
    <button class="btn close" onclick="closePop()">‚ùå Close</button>
  </div>
</div>

<script>
const voters=[
 {name:"‡§¶‡§µ‡•á ‡§™‡§æ‡§∞‡•ç‡§• ‡§Ö‡§®‡§ø‡§≤",epic:"WEH5630116",house:"A/204",booth:"132",part:"237",relation:"‡§¶‡§µ‡•á ‡§Ö‡§®‡§ø‡§≤",age:"29",gender:"‡§™‡•Å‡§∞‡•Å‡§∑"},
 {name:"‡§ó‡§æ‡§µ‡§°‡•á ‡§≠‡§æ‡§µ‡•á‡§∂ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂",epic:"WEH5828835",house:"A/101",booth:"132",part:"237",relation:"‡§ó‡§æ‡§µ‡§°‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂",age:"28",gender:"‡§™‡•Å‡§∞‡•Å‡§∑"},
 {name:"‡§™‡§æ‡§ü‡•Ä‡§≤ ‡§∏‡•Å‡§Æ‡§® ‡§∞‡§æ‡§ú‡•Ç",epic:"ABC1234567",house:"B/12",booth:"133",part:"240",relation:"‡§∞‡§æ‡§ú‡•Ç ‡§™‡§æ‡§ü‡•Ä‡§≤",age:"35",gender:"‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä"}
];

let active=null;
const list=document.getElementById("list");

function render(data){
  list.innerHTML="";
  data.forEach(v=>{
    const d=document.createElement("div");
    d.className="card";
    d.innerHTML=`<b>${v.name}</b><br>EPIC: ${v.epic}`;
    d.onclick=()=>openPop(v);
    list.appendChild(d);
  });
}
render(voters);

/* SEARCH */
document.getElementById("search").addEventListener("input",e=>{
  const q=e.target.value.toLowerCase();
  render(voters.filter(v=>
    v.name.toLowerCase().includes(q) ||
    v.epic.toLowerCase().includes(q) ||
    v.house.toLowerCase().includes(q)
  ));
});

function openPop(v){
  active=v;
  document.getElementById("printArea").innerHTML=`
  <b>‡§®‡§æ‡§µ:</b> ${v.name}<br>
  <b>EPIC:</b> ${v.epic}<br>
  <b>‡§ò‡§∞ ‡§®‡§Ç:</b> ${v.house}<br>
  <b>‡§¨‡•Ç‡§•:</b> ${v.booth}<br>
  <b>‡§≠‡§æ‡§ó:</b> ${v.part}<br>
  <b>‡§µ‡§Ø / ‡§≤‡§ø‡§Ç‡§ó:</b> ${v.age} / ${v.gender}<br><br>
  <b>‚è∞ ‡§ò‡§°‡•Ä‡§≤‡§æ ‡§≠‡§æ‡§∞‡•Ä ‡§Æ‡§§‡§æ‡§Ç‡§®‡•Ä ‡§µ‡§ø‡§ú‡§Ø‡•Ä ‡§ï‡§∞‡§æ,<br>
  ‡§Ü‡§™‡§≤‡•á ‡§¨‡§π‡•Å‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§Æ‡§§ ‡§®‡§ï‡•ç‡§ï‡•Ä ‡§¶‡•ç‡§Ø‡§æ</b>
  `;
  document.getElementById("popup").style.display="flex";
}

function closePop(){
  document.getElementById("popup").style.display="none";
}

function doPrint(){window.print();}

function sendWhatsApp(){
  const m=
`‚è∞ ‡§ò‡§°‡•Ä‡§≤‡§æ ‡§≠‡§æ‡§∞‡•Ä ‡§Æ‡§§‡§æ‡§Ç‡§®‡•Ä ‡§µ‡§ø‡§ú‡§Ø‡•Ä ‡§ï‡§∞‡§æ

‡§Æ‡§§‡§¶‡§æ‡§∞ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä:
‡§®‡§æ‡§µ: ${active.name}
EPIC: ${active.epic}
‡§ò‡§∞ ‡§®‡§Ç: ${active.house}
‡§¨‡•Ç‡§•: ${active.booth}
‡§≠‡§æ‡§ó: ${active.part}

‡§Ü‡§™‡§≤‡•á ‡§¨‡§π‡•Å‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§Æ‡§§ ‡§®‡§ï‡•ç‡§ï‡•Ä ‡§¶‡•ç‡§Ø‡§æ üôè`;
  window.open("https://wa.me/?text="+encodeURIComponent(m));
}
</script>

</body>
</html>
