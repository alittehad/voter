<!DOCTYPE html>
<html lang="mr">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Voter App</title>

<!-- Correct Manifest Path -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#ffeb3b">

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: Arial, sans-serif;
  background: #ffeb3b;
  text-align: center;
  padding: 20px;
}

/* Slider */
.slider { width: 90%; max-width: 1000px; margin: 20px auto; overflow: hidden; }
.slides { display: flex; transition: transform 0.5s ease-in-out; }
.slides img { width: 100%; border-radius: 8px; }

/* Text */
.ward-text { font-size: 40px; margin-top: 20px; font-weight: bold; }
.candidate-text { font-size: 24px; margin-bottom: 20px; }

/* Buttons */
.google-btn, .install-btn {
  padding: 14px 30px;
  font-size: 18px;
  font-weight: bold;
  color: white;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  margin-top: 15px;
  box-shadow: 4px 4px 15px #aaa, -4px -4px 15px #fff;
}

.google-btn {
  background: linear-gradient(145deg, #4285F4, #34A853, #FBBC05, #EA4335);
}

.install-btn {
  background: linear-gradient(145deg, #FF6B6B, #FFD93D, #6BCB77, #4D96FF);
  display: none; /* Hidden initially */
}
</style>
</head>

<body>

<div class="slider">
  <div class="slides">
    <img src="https://i.ibb.co/NgFTprmS/images-1.jpg">
    <img src="https://i.ibb.co/zHnxn3Lf/images.jpg">
    <img src="https://i.ibb.co/7wHNN9B/Whats-App-Image-2025-11-24-at-11-56-26-3fbcdaac.jpg">
  </div>
</div>

<div class="ward-text">Ward No. 8</div>
<div class="candidate-text">उम्मेदवार: सचिन देसाई</div>

<button class="google-btn" id="google-login">Login with Google</button>
<button class="install-btn" id="install-btn">Install App</button>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  projectId: "voter-25c94",
  storageBucket: "voter-25c94.appspot.com",
  messagingSenderId: "297773534400",
  appId: "1:297773534400:web:3722c487b8c83e9b787125"
};
firebase.initializeApp(firebaseConfig);

// Google Login
document.getElementById("google-login").addEventListener("click", () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  firebase.auth().signInWithPopup(provider).then(() => {
    window.location.href = "login-page.html";
  });
});

// Slider
const slides = document.querySelector(".slides");
let index = 0;
setInterval(() => {
  index = (index + 1) % slides.children.length;
  slides.style.transform = `translateX(-${index * 100}%)`;
}, 3000);

// PWA Install
let deferredPrompt;
const installBtn = document.getElementById("install-btn");

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display = "block";
});

installBtn.addEventListener("click", async () => {
  installBtn.style.display = "none";
  deferredPrompt.prompt();
  deferredPrompt = null;
});

// Register Service Worker
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js")
    .then(() => console.log("Service Worker Registered"))
    .catch(err => console.log(err));
}
</script>

</body>
</html>
