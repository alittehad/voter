<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Voter App</title>

<!-- Manifest -->
<link rel="manifest" href="manifest.json" />
<link rel="apple-touch-icon" href="icon-192.png" />
<meta name="theme-color" content="#ffeb3b" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #ffeb3b;
  font-family: Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  height: 100vh;
  width: 100vw;
  padding: 10px;
  overflow-x: hidden;
}

/* Slider */
.slider {
  width: 100%;
  max-width: 800px;
  overflow: hidden;
  margin-top: 5px;
}
.slides {
  display: flex;
  transition: transform 0.5s ease-in-out;
}
.slides img {
  width: 100%;
  border-radius: 10px;
  object-fit: cover;
}

/* Text */
.ward-text {
  margin-top: 10px;
  font-size: 48px;
  font-weight: bold;
  color: #ff5722;
  text-shadow: 4px 4px 8px #aaa, -4px -4px 8px #fff;
  text-align: center;
}
.candidate-text {
  font-size: 28px;
  font-weight: bold;
  color: #795548;
  text-shadow: 2px 2px 5px #aaa, -2px -2px 5px #fff;
  text-align: center;
}

/* Buttons */
button {
  padding: 14px 30px;
  font-size: 18px;
  font-weight: bold;
  border-radius: 12px;
  cursor: pointer;
  border: none;
  margin-top: 15px;
  width: 90%;
  max-width: 320px;
  box-shadow: 4px 4px 15px #aaa, -4px -4px 15px #fff;
}

.google-btn {
  background: linear-gradient(145deg, #4285F4, #34A853, #FBBC05, #EA4335);
  color: white;
}

.install-btn {
  display:none;
  background: linear-gradient(145deg, #FF6B6B, #FFD93D, #6BCB77, #4D96FF);
  color:white;
}

/* Responsive Text */
@media (max-width: 768px) {
  .ward-text { font-size: 32px; }
  .candidate-text { font-size: 20px; }
  button { font-size: 16px; padding: 10px; }
}
</style>
</head>

<body>

<div class="slider">
  <div class="slides">
    <img src="https://i.ibb.co/NgFTprmS/images-1.jpg" />
    <img src="https://i.ibb.co/zHnxn3Lf/images.jpg" />
    <img src="https://i.ibb.co/7wHNN9B/Whats-App-Image-2025-11-24-at-11-56-26-3fbcdaac.jpg" />
  </div>
</div>

<div class="ward-text">Ward No. 8</div>
<div class="candidate-text">उम्मेदवार: सचिन देसाई</div>

<button class="google-btn" id="google-login">Login with Google</button>
<button class="install-btn" id="install-btn">Install App</button>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
// Firebase Config
firebase.initializeApp({
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  projectId: "voter-25c94",
  storageBucket: "voter-25c94.appspot.com",
  messagingSenderId: "297773534400",
  appId: "1:297773534400:web:3722c487b8c83e9b787125"
});

const auth = firebase.auth();
auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

// Google Login
document.getElementById("google-login").onclick = () => {
  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())
    .then(() => window.location.href = "login-page.html")
    .catch(err => alert("Login Failed ❌: " + err));
};

// Slider Auto Change
let index = 0;
setInterval(() => {
  index = (index + 1) % 3;
  document.querySelector(".slides").style.transform = `translateX(-${index * 100}%)`;
}, 3000);

// PWA Install Button
let installEvent;
window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  installEvent = e;
  document.getElementById("install-btn").style.display = "block";
});

document.getElementById("install-btn").onclick = () => {
  installEvent.prompt();
};
</script>

<script>
// Service Worker Register
if("serviceWorker" in navigator){
navigator.serviceWorker.register("sw.js")
.then(()=>console.log("SW ready"))
.catch(()=>console.log("SW failed"));
}
</script>
</body>
</html>
