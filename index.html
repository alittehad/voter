<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ward 20 Management</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

<style>
/* 3D Button */
.btn-3d {
  background: #2563eb;
  color: white;
  padding: 12px 20px;
  border-radius: 12px;
  font-weight: bold;
  box-shadow: 0 6px #1e3a8a;
  transition: 0.2s;
}
.btn-3d:active {
  transform: translateY(4px);
  box-shadow: 0 2px #1e3a8a;
}
.card {
  background: white;
  padding: 10px;
  border-radius: 14px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
</style>
</head>

<body class="bg-gray-100">

<!-- TOP LOGO -->
<div class="w-full text-center py-4 bg-blue-700 text-white text-3xl font-bold shadow">
  üèõÔ∏è WARD NO. 20
</div>

<!-- LOGIN SCREEN -->
<div id="loginDiv" class="flex flex-col items-center justify-center h-screen">
  <button onclick="login()" class="btn-3d text-xl">Login with Google</button>
</div>

<!-- MAIN SCREEN -->
<div id="mainDiv" class="hidden p-4">

  <!-- ADMIN IMAGE PANEL -->
  <div id="adminImagePanel" class="hidden mb-4 card">
    <h2 class="text-xl font-bold mb-2">Upload Home Screen Image (Admin Only)</h2>
    <input type="file" id="homeImage" class="p-2 border rounded w-full">
    <button onclick="uploadHomeImage()" class="btn-3d w-full mt-2">Upload Image</button>
  </div>

  <!-- HOME SCREEN IMAGE -->
  <div class="w-full mb-4">
    <img id="homeScreenImage" src="" class="w-full rounded-xl shadow">
  </div>

  <!-- ADMIN PANEL -->
  <div id="adminPanel" class="hidden card">

    <h2 class="text-xl font-bold mb-2">Admin Panel</h2>

    <!-- ADD USER -->
    <form id="addUserForm" class="my-2">
      <input id="newUserName" placeholder="Name" class="p-2 border rounded w-full mb-1">
      <input id="newUserEmail" placeholder="Email" class="p-2 border rounded w-full mb-1">
      <select id="newUserRole" class="p-2 border rounded w-full mb-1">
        <option value="user">User</option>
        <option value="member">Member</option>
        <option value="admin">Admin</option>
      </select>
      <button class="btn-3d w-full">Add</button>
    </form>

    <!-- IMPORT CSV -->
    <h3 class="font-bold mt-4">Import Voters from CSV</h3>
    <input id="sheetCSV" placeholder="CSV URL" class="p-2 border rounded w-full mb-2">
    <button onclick="importVotersFromSheet()" class="btn-3d w-full">Import Voters</button>

    <!-- VOTER LIST ADMIN -->
    <h3 class="font-bold mt-4 text-lg">Voter List (Admin)</h3>
    <div id="voterListAdmin"></div>
  </div>

  <!-- USER PANEL -->
  <div id="userPanel" class="hidden card mt-4">
    <h2 class="text-xl font-bold mb-2">Voter List</h2>

    <input id="searchInput" placeholder="Search by name..." class="p-2 border rounded w-full mb-2">

    <div id="voterListUser"></div>
  </div>

  <!-- MEMBER PANEL -->
  <div id="memberPanel" class="hidden card mt-4">

    <h2 class="text-xl font-bold mb-2">Member Survey</h2>

    <form id="surveyForm">
      <input id="memberName" placeholder="Your Name" class="p-2 border rounded w-full mb-1">
      <input id="memberMobile" placeholder="Mobile" class="p-2 border rounded w-full mb-1">
      <input id="memberWard" placeholder="Ward No" class="p-2 border rounded w-full mb-1">
      <input type="file" id="memberPoster" class="p-2 border rounded w-full mb-1">
      <button class="btn-3d w-full mt-1">Submit Survey</button>
    </form>

    <h3 class="font-bold text-lg mt-4">Member Survey Counts</h3>
    <div id="memberCount"></div>
  </div>

</div>

<script src="app.js"></script>
</body>
</html>
