<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Slider with Firebase Google Login</title>

<!-- PWA Required -->
<link rel="manifest" href="manifest.json" />
<link rel="apple-touch-icon" href="icons/icon-192.png">
<meta name="theme-color" content="#ffeb3b">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Service Worker -->
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", function() {
    navigator.serviceWorker.register("./sw.js")
      .then(() => console.log("Service Worker Registered"))
      .catch(err => console.log("SW Failed:", err));
  });
}
</script>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  overflow: hidden; /* Scroll हट गया */
}

body {
  font-family: Arial, sans-serif;
  background: #ffeb3b;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between; /* Perfect spacing */
  padding: 10px;
}

/* Slider */
.slider {
  width: 100%;
  max-width: 1000px;
  height: 45vh;      /* screen का 45% हिस्सा */
  overflow: hidden;
  margin-top: 10px;
}

.slides {
  display: flex;
  height: 100%;
  transition: transform 0.5s ease-in-out;
}

.slides img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* image auto crop होकर fit होगी */
  flex-shrink: 0;
  border-radius: 8px;
}

/* Text Section */
.ward-text {
  font-size: 36px;
  font-weight: bold;
  color: #ff5722;
  text-shadow: 4px 4px 8px #aaa, -4px -4px 8px #fff;
  text-align: center;
}

.candidate-text {
  font-size: 24px;
  font-weight: bold;
  color: #795548;
  text-shadow: 2px 2px 5px #aaa, -2px -2px 5px #fff;
  text-align: center;
}

/* Buttons */
.google-btn, .install-btn {
  padding: 14px 30px;
  font-size: 18px;
  font-weight: bold;
  color: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 4px 4px 15px #aaa, -4px -4px 15px #fff;
  margin-bottom: 10px;
}

.google-btn {
  background: linear-gradient(145deg, #4285F4, #34A853, #FBBC05, #EA4335);
}

.install-btn {
  background: linear-gradient(145deg, #FF6B6B, #FFD93D, #6BCB77, #4D96FF);
}
</style>
</head>

<body>

<!-- SLIDER -->
<div class="slider">
  <div class="slides">
    <img src="https://i.ibb.co/NgFTprmS/images-1.jpg" alt="Image 1">
    <img src="https://i.ibb.co/zHnxn3Lf/images.jpg" alt="Image 2">
    <img src="https://i.ibb.co/7wHNN9B/Whats-App-Image-2025-11-24-at-11-56-26-3fbcdaac.jpg" alt="Image 3">
  </div>
</div>

<div class="ward-text">Ward No. 8</div>
<div class="candidate-text">उम्मेदवार: सचिन देसाई</div>

<button class="google-btn" id="google-login">Login with Google</button>
<button id="install-btn" class="install-btn" style="display:none;">Install App</button>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
// Firebase
firebase.initializeApp({
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  projectId: "voter-25c94",
  storageBucket: "voter-25c94.appspot.com",
  messagingSenderId: "297773534400",
  appId: "1:297773534400:web:3722c487b8c83e9b787125"
});

const auth = firebase.auth();
auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

document.getElementById('google-login').onclick = () => {
  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())
  .then(() => window.location.href = "login-page.html");
};

// Slider Auto Move
let index = 0;
setInterval(() => {
  index = (index + 1) % 3;
  document.querySelector('.slides').style.transform = `translateX(-${index * 100}%)`;
}, 3000);

// Install App Button
let installPrompt;
const install_btn = document.getElementById("install-btn");

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  installPrompt = e;
  install_btn.style.display = "block";
});

install_btn.onclick = async () => {
  install_btn.style.display = "none";
  installPrompt.prompt();
};
</script>
</body>
</html>
