<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Voter List App</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f5f5f5;
    }

    header {
        background: #4caf50;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 22px;
        font-weight: bold;
    }

    .search-box {
        width: 90%;
        display: block;
        margin: 15px auto;
        padding: 10px;
        font-size: 18px;
        border-radius: 8px;
        border: 2px solid #888;
    }

    .list-item {
        background: white;
        margin: 10px;
        padding: 14px;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.3s;
        border-left: 6px solid var(--themeColor, #4caf50);
    }

    .list-item:hover {
        transform: scale(1.03);
        background: #e7ffe7;
    }

    /* ===== Popup Fullscreen Card ===== */
    #popup {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
        padding: 10px;
    }

    .card {
        background: var(--themeColor, #4caf50);
        width: 100%;
        max-width: 400px;
        padding: 25px;
        border-radius: 12px;
        color: white;
        text-align: center;
        position: relative;
    }

    .close-btn {
        position: absolute;
        top: 8px;
        right: 12px;
        font-size: 25px;
        cursor: pointer;
    }

    .btn {
        display: block;
        width: 100%;
        padding: 12px;
        background: white;
        color: black;
        margin-top: 12px;
        border-radius: 10px;
        border: none;
        font-size: 18px;
        cursor: pointer;
    }

    .color-box {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 10px;
    }

    .color-option {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid white;
    }
</style>
</head>
<body>

<header>ðŸ“‹ Voter List</header>
<input type="text" id="search" class="search-box" placeholder="Search Name or EPIC...">

<div id="list"></div>

<!-- Popup -->
<div id="popup">
    <div class="card" id="cardBox">
        <span class="close-btn" onclick="closePopup()">âœ–</span>
        <h2 id="pName"></h2>
        <p><b>Epic:</b> <span id="pEpic"></span></p>
        <p><b>AC No:</b> <span id="pAc"></span></p>
        <p><b>Part No:</b> <span id="pPart"></span></p>

        <h3>ðŸŽ¨ Change Card Theme</h3>
        <div class="color-box">
            <div class="color-option" style="background:#4caf50" onclick="changeColor('#4caf50')"></div>
            <div class="color-option" style="background:#2196f3" onclick="changeColor('#2196f3')"></div>
            <div class="color-option" style="background:#ff5722" onclick="changeColor('#ff5722')"></div>
        </div>

        <button class="btn" onclick="printCard()">ðŸ–¨ Print</button>
        <button class="btn" onclick="sendWhatsApp()">ðŸ“© Send WhatsApp</button>
    </div>
</div>

<script>
const data = {
  "Bcd0598334": { Epic: "BCD0598334", Name: "Sanjay Malakar", AcNo: 131, PartNo: 92 },
  "Djm1162627": { Epic: "DJM1162627", Name: "Jagdish Gurav", AcNo: 131, PartNo: 237 },
  "Ltv1989003": { Epic: "LTV1989003", Name: "Jayprakash Shende", AcNo: 131, PartNo: 14 }
};

const listDiv = document.getElementById("list");
let selected = null;

function loadList() {
  listDiv.innerHTML = "";
  for (let key in data) {
    let v = data[key];
    let div = document.createElement("div");
    div.className = "list-item";
    div.innerHTML = `<b>${v.Name}</b><br>ðŸ†” ${v.Epic}`;
    div.onclick = () => openPopup(v);
    listDiv.appendChild(div);
  }
}
loadList();

function openPopup(voter) {
  selected = voter;
  document.getElementById("pName").innerText = voter.Name;
  document.getElementById("pEpic").innerText = voter.Epic;
  document.getElementById("pAc").innerText = voter.AcNo;
  document.getElementById("pPart").innerText = voter.PartNo;
  document.getElementById("popup").style.display = "flex";
}

function closePopup() {
  document.getElementById("popup").style.display = "none";
}

function changeColor(color) {
  document.documentElement.style.setProperty("--themeColor", color);
}

function printCard() {
  window.print();
}

function sendWhatsApp() {
  let msg = `ðŸ“Œ Voter Details:\nðŸ‘¤ Name: ${selected.Name}\nðŸ†” EPIC: ${selected.Epic}\nðŸ› AC No: ${selected.AcNo}\nðŸ“ Part No: ${selected.PartNo}`;
  window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, "_blank");
}

document.getElementById("search").addEventListener("input", function(){
  let val = this.value.toLowerCase();
  document.querySelectorAll(".list-item").forEach(item => {
    item.style.display = item.innerText.toLowerCase().includes(val) ? "block" : "none";
  });
});

</script>
</body>
</html>
