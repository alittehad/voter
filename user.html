<!DOCTYPE html>
<html>
<head>
<title>JSON Based Voter App</title>

<style>
:root{
  --theme:#ffffff;
  --border:#999;
  --text:#000;
}

body{
  background:var(--theme);
  font-family:Arial, sans-serif;
}

.container{
  width:90%;
  margin:auto;
  margin-top:20px;
}

/* Search */
.search-box{
  width:100%;
  padding:12px;
  font-size:18px;
  margin:10px 0;
}

/* Table */
table{
  width:100%;
  border-collapse:collapse;
  background:var(--theme);
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 0 10px rgba(0,0,0,.3);
}

th,td{
  padding:12px;
  border-bottom:2px solid var(--border);
  cursor:pointer;
  color:var(--text);
}

tr:hover{
  background:rgba(0,0,0,0.1);
}

/* Theme buttons */
.theme-btn{
  width:40px;
  height:40px;
  margin:4px;
  border:none;
  cursor:pointer;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,.3);
}

/* Popup */
.modal{
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,.4);
  justify-content:center;
  align-items:center;
}

.card{
  width:400px;
  background:var(--theme);
  padding:20px;
  border-radius:15px;
  text-align:center;
  border:2px solid var(--border);
  box-shadow:0 0 20px rgba(0,0,0,.5);
  animation:scale .3s;
}

@keyframes scale{
  from{transform:scale(.5);opacity:0;}
  to{transform:scale(1);opacity:1;}
}

.close{
  background:red;
  color:white;
  border:none;
  float:right;
  padding:6px 10px;
  cursor:pointer;
  border-radius:6px;
}

.btn{
  margin:8px;
  padding:10px 15px;
  font-size:16px;
  background:#008cff;
  border:none;
  cursor:pointer;
  color:white;
  border-radius:8px;
}

.info{
  font-size:18px;
  margin:8px;
  color:var(--text);
}
</style>
</head>

<body>

<div class="container">

<h2>ðŸ—³ JSON Voter Database</h2>

<!-- Theme buttons -->
<button class="theme-btn" style="background:#ffb9b9" onclick="setTheme('#ffb9b9','#d84c4c','#000')"></button>
<button class="theme-btn" style="background:#b8ffd6" onclick="setTheme('#b8ffd6','#339966','#000')"></button>
<button class="theme-btn" style="background:#b9d9ff" onclick="setTheme('#b9d9ff','#185adb','#000')"></button>

<input class="search-box" id="search" placeholder="ðŸ” Search voter..." onkeyup="filterTable()">

<table>
<thead>
<tr><th>EPIC</th><th>Name</th><th>AC No.</th><th>Part No.</th></tr>
</thead>
<tbody id="voterBody"></tbody>
</table>
</div>


<!-- POPUP -->
<div class="modal" id="modal">
<div class="card">
<button class="close" onclick="closeCard()">X</button>

<h2 id="cName"></h2>
<p class="info"><b>EPIC:</b> <span id="cEpic"></span></p>
<p class="info"><b>AC No:</b> <span id="cAc"></span></p>
<p class="info"><b>Part No:</b> <span id="cPart"></span></p>
<p class="info"><b>Description:</b> <span id="cDesc"></span></p>

<button class="btn" onclick="window.print()">ðŸ–¨ Print</button>
<a id="waLink" target="_blank"><button class="btn">ðŸ“© WhatsApp</button></a>
</div>
</div>


<script>
// ------------ JSON DATA -------------
const data = {
  "Voters": {
    "Bcd0598334": {
      "Epic": "BCD0598334",
      "Name": "Sanjay Malakar",
      "AcNo": 131,
      "PartNo": 92,
      "Description": "",
      "Images": []
    },
    "Djm1162627": {
      "Epic": "DJM1162627",
      "Name": "Jagdish Gajanan Gurav",
      "AcNo": 131,
      "PartNo": 237,
      "Description": "",
      "Images": []
    },
    "Ltv1989003": {
      "Epic": "LTV1989003",
      "Name": "Jayprakash Gopal Shende",
      "AcNo": 131,
      "PartNo": 14,
      "Description": "",
      "Images": []
    }
  }
};


// -------- LOAD VOTER LIST ----------
const body = document.getElementById("voterBody");

Object.values(data.Voters).forEach(voter=>{
  let row=document.createElement("tr");
  row.innerHTML=`<td>${voter.Epic}</td><td>${voter.Name}</td><td>${voter.AcNo}</td><td>${voter.PartNo}</td>`;
  row.onclick=()=>openCard(voter);
  body.appendChild(row);
});


// -------- POPUP CARD ----------
function openCard(v){
  document.getElementById("modal").style.display="flex";
  document.getElementById("cName").innerText=v.Name;
  document.getElementById("cEpic").innerText=v.Epic;
  document.getElementById("cAc").innerText=v.AcNo;
  document.getElementById("cPart").innerText=v.PartNo;
  document.getElementById("cDesc").innerText=v.Description || "â€”";
  document.getElementById("waLink").href=`https://wa.me/?text=Voter: ${v.Name} | EPIC: ${v.Epic}`;
}

function closeCard(){
  document.getElementById("modal").style.display="none";
}


// -------- SEARCH FILTER ----------
function filterTable(){
  let text=document.getElementById("search").value.toLowerCase();
  document.querySelectorAll("#voterBody tr").forEach(row=>{
    row.style.display=row.innerText.toLowerCase().includes(text)?"":"none";
  });
}


// -------- THEME CHANGE ----------
function setTheme(bg,border,text){
  document.documentElement.style.setProperty("--theme",bg);
  document.documentElement.style.setProperty("--border",border);
  document.documentElement.style.setProperty("--text",text);
}
</script>

</body>
</html>
