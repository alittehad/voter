<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nagar Dashboard</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<style>
.logout-cone{
  position:fixed;
  top:15px;
  right:15px;
  width:42px;
  height:42px;
  border-radius:50%;
  border:none;
  font-size:18px;
  color:#fff;
  cursor:pointer;
  background:linear-gradient(145deg,#ff4b2b,#c0392b);
  box-shadow:0 4px 0 #8e2b21;
}
</style>
</head>

<body>

<!-- ğŸ”” SOUNDS -->
<audio id="maleSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
<audio id="femaleSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

<!-- ğŸ”˜ LOGOUT BUTTON -->
<button class="logout-cone" onclick="confirmLogout()">â»</button>

<script>
/* ğŸ”¥ FIREBASE CONFIG */
firebase.initializeApp({
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  projectId: "voter-25c94"
});

/* ğŸ” LOGIN CHECK */
firebase.auth().onAuthStateChanged(user=>{
  if(!user){
    location.href="index.html";
  }
});

/* â— CONFIRM LOGOUT */
function confirmLogout(){
  if(confirm("âš ï¸ Are you sure you want to logout?")){
    playLogoutAlert();
  }
}

/* ğŸ”” SOUND + ğŸ“³ VIBRATION + LOGOUT */
function playLogoutAlert(){

  // ğŸ“³ Mobile vibration
  if(navigator.vibrate){
    navigator.vibrate([300,150,300,150,400]);
  }

  // ğŸ”” Random male / female sound
  const sound = Math.random() < 0.5
    ? document.getElementById("maleSound")
    : document.getElementById("femaleSound");

  sound.currentTime = 0;
  sound.volume = 1.0;
  sound.playbackRate = 1.3;
  sound.play().catch(()=>{});

  // ğŸšª Logout after sound
  setTimeout(()=>{
    firebase.auth().signOut().then(()=>{
      location.href="index.html";
    });
  },900);
}
</script>

</body>
</html>
