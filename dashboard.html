<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<style>
/* Reset */
* {margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif;}

/* Body & Background Slider */
body {
    height:100vh;
    overflow:hidden;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    position:relative;
}

body::before {
    content:"";
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    z-index:-2;
    background-size:cover;
    background-position:center;
    transition: background-image 1s ease-in-out;
}

/* Overlay for blur/dim effect */
body::after {
    content:"";
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.3);
    z-index:-1;
}

/* Button Container */
.button-container {
    display:flex;
    flex-wrap:wrap;
    gap:15px;
    justify-content:center;
    margin-top:50px;
}

/* All buttons same size */
.btn3d {
    padding: 15px 30px;
    font-size:18px;
    font-weight:bold;
    border:none;
    border-radius:12px;
    color:#fff;
    cursor:pointer;
    position:relative;
    z-index:1;
    min-width:160px;
    transition: all 0.2s ease;
    box-shadow: 0 5px 0 rgba(0,0,0,0.2),
                0 8px 15px rgba(0,0,0,0.4);
}

/* Press effect */
.btn3d:active {
    transform: translateY(5px);
    box-shadow: 0 2px 0 rgba(0,0,0,0.2),
                0 4px 8px rgba(0,0,0,0.4);
}

/* Different blinking animations */
@keyframes blink1 {0%,100%{background:#3498db;}50%{background:#e74c3c;}}
@keyframes blink2 {0%,100%{background:#2ecc71;}50%{background:#f1c40f;}}
@keyframes blink3 {0%,100%{background:#9b59b6;}50%{background:#e67e22;}}
@keyframes blink4 {0%,100%{background:#1abc9c;}50%{background:#c0392b;}}

.blink1 {animation: blink1 2s infinite;}
.blink2 {animation: blink2 2s infinite;}
.blink3 {animation: blink3 2s infinite;}
.blink4 {animation: blink4 2s infinite;}

/* Logout cone */
.logout-btn {
    width:50px;
    height:50px;
    border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;
    position:absolute;
    top:20px;
    right:20px;
    padding:0;
    font-size:14px;
}

/* Images container */
#images {margin-top:20px; display:flex; flex-wrap:wrap; gap:10px; justify-content:center;}
#images img {width:150px; height:150px; object-fit:cover; border-radius:10px;}
</style>
</head>
<body>

<!-- Logout -->
<button id="logoutBtn" class="btn3d logout-btn">X</button>

<!-- Buttons -->
<div class="button-container">
  <button class="btn3d blink1" id="btnElection">Election Search</button>
  <button class="btn3d blink2" id="btnVoter">Voter Name Search</button>
  <button class="btn3d blink3" id="btnUpload">Upload Image</button>
  <button class="btn3d blink4" id="btnPrint">Print Page</button>
</div>

<!-- Uploaded images -->
<div id="images"></div>

<!-- Audio -->
<audio id="clickSound" src="click.mp3" preload="auto"></audio>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
// ===== Firebase Config =====
const firebaseConfig = {
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  databaseURL: "https://voter-25c94-default-rtdb.firebaseio.com",
  projectId: "voter-25c94",
  storageBucket: "voter-25c94.appspot.com"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Login check
auth.onAuthStateChanged(user => {
    if(!user) window.location.href='index.html';
});

// Logout
document.getElementById('logoutBtn').addEventListener('click', ()=>{
    playSound();
    auth.signOut().then(()=> window.location.href='index.html');
});

// Sound play
function playSound(){
    const clickSound = document.getElementById('clickSound');
    clickSound.currentTime = 0;
    clickSound.volume = 1;
    clickSound.play().catch(e=>console.log(e));
}

// Background slider
const bgImages = [
    "https://i.ibb.co/FLQDzSGp/1.avif",
    "https://i.ibb.co/HTKycbLy/2.webp",
    "https://i.ibb.co/hRRS9vTM/3.jpg",
    "https://i.ibb.co/hFtvv9bk/4.avif",
    "https://i.ibb.co/pBfjvXSx/5.jpg"
];
let bgIndex = 0;
function changeBackground(){
    document.body.style.backgroundImage = `url(${bgImages[bgIndex]})`;
    bgIndex = (bgIndex+1) % bgImages.length;
}
changeBackground();
setInterval(changeBackground,5000); // 5 sec interval

// Buttons click
document.getElementById('btnElection').addEventListener('click', ()=>{
    playSound();
    window.open('https://electoralsearch.eci.gov.in/','_blank');
});
document.getElementById('btnVoter').addEventListener('click', ()=>{
    playSound();
    window.open('https://mahasecvoterlist.in/ObjectionOnClick/SearchVoterName=','_blank');
});
document.getElementById('btnPrint').addEventListener('click', ()=>{
    playSound();
    window.location.href='print.html';
});

// Upload image
document.getElementById('btnUpload').addEventListener('click', ()=>{
    playSound();
    const fileInput = document.createElement('input');
    fileInput.type = 'file';
    fileInput.accept = 'image/*';
    fileInput.onchange = ()=>{
        const file = fileInput.files[0];
        if(!file) return;
        const cloudName = 'YOUR_CLOUD_NAME';
        const unsignedUploadPreset = 'dlsqxs7zl';
        const url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;
        const formData = new FormData();
        formData.append('file',file);
        formData.append('upload_preset',unsignedUploadPreset);
        fetch(url,{method:'POST',body:formData})
        .then(res=>res.json())
        .then(data=>{
            if(data.secure_url){
                const imagesDiv = document.getElementById('images');
                const img = document.createElement('img');
                img.src = data.secure_url;
                imagesDiv.appendChild(img);
            } else {alert('Upload failed');}
        }).catch(err=>alert(err));
    };
    fileInput.click();
});
</script>
</body>
</html>
