<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>

<style>
/* ===== BODY BACKGROUND BLINKING (NO SHAKE) ===== */
body{
  margin:0;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  font-family:Arial,sans-serif;
  animation:bgBlink 12s infinite alternate;
}

@keyframes bgBlink{
  0%{background:#0f2027;}
  25%{background:#203a43;}
  50%{background:#2c5364;}
  75%{background:#1b2735;}
  100%{background:#090a0f;}
}

/* ===== LOGOUT BUTTON ===== */
.logout-btn{
  position:fixed;
  top:15px;
  right:15px;
}

/* ===== BUTTON CONTAINER ===== */
.button-container{
  margin-top:100px;
  display:flex;
  flex-direction:column;
  gap:20px;
  width:100%;
  align-items:center;
}

/* ===== 3D BUTTON BASE ===== */
.btn3d{
  width:260px;
  padding:16px 20px;
  font-size:17px;
  border:none;
  border-radius:12px;
  color:#fff;
  cursor:pointer;
  background:linear-gradient(145deg,#3498db,#2980b9);
  box-shadow:0 6px 0 #1c5980,0 10px 20px rgba(0,0,0,0.5);
  transition:transform .2s, box-shadow .2s, filter .2s;
}

.btn3d:active{
  transform:translateY(6px);
  box-shadow:0 2px 0 #1c5980,0 4px 10px rgba(0,0,0,0.5);
}

/* ===== INDIVIDUAL BLINKING (ALL DIFFERENT) ===== */
.button-container button:nth-child(1){
  animation:blink1 3s infinite;
}
.button-container button:nth-child(2){
  animation:blink2 4s infinite;
}
.button-container button:nth-child(3){
  animation:blink3 5s infinite;
}
.button-container button:nth-child(4){
  animation:blink4 2.5s infinite;
}

@keyframes blink1{
  0%,100%{filter:brightness(1);}
  50%{filter:brightness(1.3);}
}
@keyframes blink2{
  0%,100%{background:#16a085;}
  50%{background:#1abc9c;}
}
@keyframes blink3{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.06);}
}
@keyframes blink4{
  0%,100%{box-shadow:0 6px 0 #7f1d1d,0 10px 20px rgba(0,0,0,.5);}
  50%{box-shadow:0 0 20px red,0 0 40px red;}
}

/* ===== IMAGE GALLERY ===== */
#images{
  margin-top:30px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
}

/* ===== MOBILE FIX ===== */
@media(max-width:600px){
  .btn3d{
    width:90%;
    font-size:16px;
  }
}
</style>
</head>

<body>

<!-- LOGOUT -->
<button id="logoutBtn" class="btn3d logout-btn">Logout</button>

<!-- BUTTONS -->
<div class="button-container">

  <button class="btn3d"
    onclick="window.open('https://electoralsearch.eci.gov.in/','_blank')">
    Election Search
  </button>

  <button class="btn3d"
    onclick="window.open('https://mahasecvoterlist.in/ObjectionOnClick/SearchVoterName','_blank')">
    Voter Name Search
  </button>

  <button class="btn3d" onclick="openImageUpload()">
    Upload Image
  </button>

  <button class="btn3d" onclick="window.location.href='print.html'">
    Print Page
  </button>

</div>

<div id="images"></div>

<!-- ===== FIREBASE ===== -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
/* ===== FIREBASE CONFIG ===== */
firebase.initializeApp({
  apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
  authDomain: "voter-25c94.firebaseapp.com",
  databaseURL: "https://voter-25c94-default-rtdb.firebaseio.com",
  projectId: "voter-25c94",
  storageBucket: "voter-25c94.appspot.com"
});

const auth = firebase.auth();

/* ===== LOGIN CHECK ONLY ===== */
auth.onAuthStateChanged(user=>{
  if(!user){
    window.location.href="index.html"; // login page
  }
});

/* ===== LOGOUT ===== */
document.getElementById("logoutBtn").onclick=()=>{
  auth.signOut().then(()=>window.location.href="index.html");
};

/* ===== IMAGE UPLOAD (LOCAL PREVIEW ONLY) ===== */
function openImageUpload(){
  const input=document.createElement("input");
  input.type="file";
  input.accept="image/*";
  input.onchange=()=>{
    const file=input.files[0];
    if(!file) return;
    const reader=new FileReader();
    reader.onload=e=>{
      const img=document.createElement("img");
      img.src=e.target.result;
      img.style.width="120px";
      img.style.height="120px";
      img.style.objectFit="cover";
      img.style.borderRadius="10px";
      document.getElementById("images").appendChild(img);
    };
    reader.readAsDataURL(file);
  };
  input.click();
}
</script>

</body>
</html>
