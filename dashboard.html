<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }

  /* Background slider */
  body {
    background-size: cover;
    background-position: center;
    transition: background-image 1s ease-in-out;
  }

  /* Button container */
  .button-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
  }

  /* Common button style */
  .btn3d {
    padding: 20px 50px;
    font-size: 18px;
    font-weight: bold;
    color: #fff;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 5px 0 #1c5980,
                0 8px 15px rgba(0,0,0,0.4);
    position: relative;
  }

  .btn3d:active {
    transform: translateY(5px);
    box-shadow: 0 2px 0 #1c5980,
                0 4px 8px rgba(0,0,0,0.4);
  }

  /* Blinking colors for buttons */
  @keyframes blink1 {
    0%,100% {background: linear-gradient(145deg, #3498db, #2980b9);}
    50% {background: linear-gradient(145deg, #2ecc71, #27ae60);}
  }
  @keyframes blink2 {
    0%,100% {background: linear-gradient(145deg, #e74c3c, #c0392b);}
    50% {background: linear-gradient(145deg, #f1c40f, #f39c12);}
  }
  @keyframes blink3 {
    0%,100% {background: linear-gradient(145deg, #8e44ad, #9b59b6);}
    50% {background: linear-gradient(145deg, #1abc9c, #16a085);}
  }
  @keyframes blink4 {
    0%,100% {background: linear-gradient(145deg, #f39c12, #d35400);}
    50% {background: linear-gradient(145deg, #c0392b, #e74c3c);}
  }

  /* Assign different blinking animations */
  .btn-blink1 { animation: blink1 2s infinite; }
  .btn-blink2 { animation: blink2 2s infinite; }
  .btn-blink3 { animation: blink3 2s infinite; }
  .btn-blink4 { animation: blink4 2s infinite; }

  /* Logout button small cone */
  #logoutBtn {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 10px 15px;
    border-radius: 50%;
    font-size: 14px;
    box-shadow: 0 3px 0 #1c5980,
                0 4px 6px rgba(0,0,0,0.4);
  }

</style>
</head>
<body>

<!-- Logout -->
<button id="logoutBtn" class="btn3d">X</button>

<!-- Main Buttons -->
<div class="button-container">
  <button class="btn3d btn-blink1" onclick="window.open('https://electoralsearch.eci.gov.in/','_blank')">Election Search</button>
  <button class="btn3d btn-blink2" onclick="window.open('https://mahasecvoterlist.in/ObjectionOnClick/SearchVoterName=','_blank')">Voter Name Search</button>
  <button class="btn3d btn-blink3" onclick="openCloudinaryUpload()">Upload Image</button>
  <button class="btn3d btn-blink4" onclick="window.location.href='print.html'">Print Page</button>
</div>

<!-- Uploaded Images -->
<div id="images" style="position:absolute; bottom:20px; width:100%; display:flex; flex-wrap:wrap; justify-content:center; gap:10px;"></div>

<!-- Click Sound -->
<audio id="clickSound" src="click.mp3"></audio>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
  /* ===== Firebase Config ===== */
  const firebaseConfig = {
    apiKey: "AIzaSyCdjqVFKOQ1dtaXCGFUUtsJWbFdGNTo-xw",
    authDomain: "voter-25c94.firebaseapp.com",
    databaseURL: "https://voter-25c94-default-rtdb.firebaseio.com",
    projectId: "voter-25c94",
    storageBucket: "voter-25c94.appspot.com"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Check Login
  auth.onAuthStateChanged(user => {
    if (!user) window.location.href='index.html';
  });

  // Logout
  document.getElementById('logoutBtn').addEventListener('click', () => {
    auth.signOut().then(()=> window.location.href='index.html');
  });

  // Background slider
  const bgImages = [
    'https://i.ibb.co/FLQDzSGp/1.avif',
    'https://i.ibb.co/HTKycbLy/2.webp',
    'https://i.ibb.co/hRRS9vTM/3.jpg',
    'https://i.ibb.co/hFtvv9bk/4.avif',
    'https://i.ibb.co/pBfjvXSx/5.jpg'
  ];
  let bgIndex = 0;
  setInterval(()=>{
    document.body.style.backgroundImage = `url(${bgImages[bgIndex]})`;
    bgIndex = (bgIndex + 1) % bgImages.length;
  }, 5000);

  // Cloudinary Upload
  function openCloudinaryUpload(){
    const fileInput = document.createElement('input');
    fileInput.type='file';
    fileInput.accept='image/*';
    fileInput.onchange = ()=>{
      const file = fileInput.files[0];
      if(!file) return;

      const cloudName='YOUR_CLOUD_NAME';
      const unsignedUploadPreset='dlsqxs7zl';
      const url=`https://api.cloudinary.com/v1_1/${cloudName}/upload`;

      const formData = new FormData();
      formData.append('file',file);
      formData.append('upload_preset',unsignedUploadPreset);

      fetch(url,{method:'POST',body:formData})
      .then(res=>res.json())
      .then(data=>{
        if(data.secure_url){
          const img = document.createElement('img');
          img.src=data.secure_url;
          img.style.width='150px';
          img.style.height='150px';
          img.style.objectFit='cover';
          img.style.borderRadius='10px';
          document.getElementById('images').appendChild(img);
        }else alert("Upload failed");
      }).catch(err=>alert(err));
    };
    fileInput.click();
  }

  // Click sound on all buttons
  const clickSound = document.getElementById('clickSound');
  clickSound.volume = 1.0;

  document.querySelectorAll('.btn3d').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      clickSound.currentTime=0;
      clickSound.play();
    });
  });
</script>

</body>
</html>
